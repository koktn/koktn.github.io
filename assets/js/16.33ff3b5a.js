(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{440:function(t,s,a){"use strict";a.r(s);var e=a(1),r=Object(e.a)({},(function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[a("p",[t._v("ブログをURLをtwitterに貼り付けたとき表示される、twitterカードの設定をしました。\nその備忘録です")]),t._v(" "),a("h2",{attrs:{id:"プラグイン-vuepress-plugin-seo-のインストールと設定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#プラグイン-vuepress-plugin-seo-のインストールと設定"}},[t._v("#")]),t._v(" プラグイン vuepress-plugin-seo のインストールと設定")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/lorisleiva/vuepress-plugin-seo",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/lorisleiva/vuepress-plugin-seo"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("インストール")]),t._v(" "),a("div",{staticClass:"language-bash extra-class"},[a("pre",{pre:!0,attrs:{class:"language-bash"}},[a("code",[a("span",{pre:!0,attrs:{class:"token function"}},[t._v("npm")]),t._v(" i vuepress-plugin-seo -D\n")])])]),a("p",[a("code",[t._v("config.js")]),t._v("の設定はこちらを参考にしました。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://dorasu-tech.dorasu.com/posts/2020/01/24/vuepress-ogp-autogen.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://dorasu-tech.dorasu.com/posts/2020/01/24/vuepress-ogp-autogen.html"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-JavaScript : config.js extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'seo'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("/* options */")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("description")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("$page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $site")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" $page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("frontmatter"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("description "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("$page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("excerpt "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" $page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("excerpt"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{pre:!0,attrs:{class:"token function"}},[t._v("replace")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/<(\"[^\"]*\"|'[^']*'|[^'\">])*>/g")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" $site"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("description "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('""')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("title")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("$page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $site")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" $page"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("||")]),t._v(" $site"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("title"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("author")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("_"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" $site")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" $site"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("themeConfig"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("author"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token function-variable function"}},[t._v("twitterCard")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token parameter"}},[t._v("_")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=>")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'summary_large_image'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//'summary' or 'summary_large_image',")]),t._v("\n\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h2",{attrs:{id:"ogp-checkerでの確認"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ogp-checkerでの確認"}},[t._v("#")]),t._v(" OGP Checkerでの確認")]),t._v(" "),a("p",[t._v("Chromeプラグインの"),a("a",{attrs:{href:"https://chrome.google.com/webstore/detail/localhost-open-graph-chec/gcbnmkhkglonipggglncobhklaegphgn",target:"_blank",rel:"noopener noreferrer"}},[t._v("Localhost OGP チェッカー"),a("OutboundLink")],1),t._v("\nで設定が正しくされているかチェックします。")]),t._v(" "),a("p",[t._v("手順は"),a("a",{attrs:{href:"https://bellbellbell.info/posts/vuepress-custom-twitter-ogp.html#%E8%A8%AD%E5%AE%9A%E3%81%8C%E3%81%86%E3%81%BE%E3%81%8F%E3%81%A3%E3%81%A6%E3%82%8B%E3%81%8B%E7%A2%BA%E8%AA%8D",target:"_blank",rel:"noopener noreferrer"}},[t._v("ここを参考にしました"),a("OutboundLink")],1)]),t._v(" "),a("h2",{attrs:{id:"サイトマップvuepress-plugin-sitemap-のインストールと設定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#サイトマップvuepress-plugin-sitemap-のインストールと設定"}},[t._v("#")]),t._v(" サイトマップvuepress-plugin-sitemap のインストールと設定")]),t._v(" "),a("p",[t._v("と、ここまでやってtwitter上で確認しても表示されず、、、sitemapの設定が必要そうだと言うことで、こちらをやりました")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/ekoeryanto/vuepress-plugin-sitemap",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/ekoeryanto/vuepress-plugin-sitemap"),a("OutboundLink")],1)]),t._v(" "),a("p",[t._v("インストール")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("npm install vuepress-plugin-sitemap\n")])])]),a("p",[a("code",[t._v("config.js")]),t._v("の設定は以下の通り")]),t._v(" "),a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("plugins"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'sitemap'")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          hostname"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https://koktn.github.io/'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          changefreq"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v('"weekly"')]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n       "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("h2",{attrs:{id:"robots-txtの設定"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#robots-txtの設定"}},[t._v("#")]),t._v(" robots.txtの設定")]),t._v(" "),a("p",[t._v("robots.txtも必要とのことで設定します。")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://developers.google.com/search/reference/robots_txt?hl=ja",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://developers.google.com/search/reference/robots_txt?hl=ja"),a("OutboundLink")],1)]),t._v(" "),a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("User"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("agetnt"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" Twitterbot\nDisallow"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n\nUser"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("agent"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),t._v("\nDisallow"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token regex"}},[t._v("/log/")]),t._v("\nSitemap"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" https"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("koktn"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("github"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("io"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("sitemap"),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("xml\n")])])]),a("p",[a("code",[t._v("User-agetnt: Twitterbot")]),t._v("は結果不要な気もしますが、試行錯誤の流れで入れています。\nまた、"),a("code",[t._v("robots.txt")]),t._v("は、src/.vuepress/publicに配置しています")]),t._v(" "),a("h2",{attrs:{id:"google-search-consoleへの登録"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#google-search-consoleへの登録"}},[t._v("#")]),t._v(" Google Search Consoleへの登録")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://search.google.com/search-console",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://search.google.com/search-console"),a("OutboundLink")],1),t._v("\nにsitemapを登録します。")]),t._v(" "),a("p",[t._v("まず、プロパティの追加をします。方法は今回、URLプレフィックスを選択しました。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/posts/2020-09-29%20223118.png",alt:"プロパティタイプ"}})]),t._v(" "),a("p",[t._v("タグを追加して確認をします。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/posts/2020-09-29%20222541.png",alt:"htmlタグ"}})]),t._v(" "),a("p",[t._v("追加先は"),a("code",[t._v("config.js")]),t._v("です。")]),t._v(" "),a("div",{staticClass:"language-JavaScript extra-class"},[a("pre",{pre:!0,attrs:{class:"language-javascript"}},[a("code",[t._v("head"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("\n        "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'meta'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" name"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'google-site-verification'")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" content"),a("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token string"}},[t._v("'xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx'")]),t._v(" "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),a("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n")])])]),a("p",[t._v("確認ができたら、sitemap.xmlを登録します。")]),t._v(" "),a("p",[t._v("左メニューのサイトマップから、「新しいサイトマップの追加」を行います。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/posts/2020-09-29%20223650.png",alt:"サイトマップ"}})]),t._v(" "),a("p",[t._v("うまく行けば、ステータスが「成功しました」となります")]),t._v(" "),a("p",[t._v("※プロパティ登録直後だと、私の場合サイトマップの登録に失敗しました。翌日試したらできたので時間がかかるものだと思っておいたほうが良いです。")]),t._v(" "),a("h2",{attrs:{id:"twitterでの確認"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#twitterでの確認"}},[t._v("#")]),t._v(" twitterでの確認")]),t._v(" "),a("p",[t._v("twitterにブログポストのURLを入力して、twitterカードが表示されるかどうか確認します。")]),t._v(" "),a("p",[a("img",{attrs:{src:"/img/posts/2020-09-29%20000000.png",alt:""}})]),t._v(" "),a("h2",{attrs:{id:"それでも表示されないときは-キャッシュクリア"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#それでも表示されないときは-キャッシュクリア"}},[t._v("#")]),t._v(" それでも表示されないときは（キャッシュクリア）")]),t._v(" "),a("p",[t._v("私の場合、上記手順を試してもうまく表示されなかったのですが、twitterに記載するURLを")]),t._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("https://koktn.github.io/?aaa\n")])])]),a("p",[t._v("とするとうまくいきました。（?を入力して以降の文字列aaaは適当）")]),t._v(" "),a("p",[a("a",{attrs:{href:"https://hikikomorineet.com/wp-twitter-card",target:"_blank",rel:"noopener noreferrer"}},[t._v("こちら"),a("OutboundLink")],1),t._v("を参考にするとtwitterに残っているキャッシュを?でクリアしているそうです。")]),t._v(" "),a("p",[t._v("とりあえず、これで解決しました！")])])}),[],!1,null,null,null);s.default=r.exports}}]);