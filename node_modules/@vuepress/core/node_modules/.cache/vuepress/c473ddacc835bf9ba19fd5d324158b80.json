{"remainingRequest":"/home/koki/blog/node_modules/babel-loader/lib/index.js??ref--3-1!/home/koki/blog/node_modules/vuepress-theme-meteorlxy/lib/plugins/blog-vuepress/enhanceAppFile.js","dependencies":[{"path":"/home/koki/blog/node_modules/vuepress-theme-meteorlxy/lib/plugins/blog-vuepress/enhanceAppFile.js","mtime":499162500000},{"path":"/home/koki/blog/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/koki/blog/node_modules/babel-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwppbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gIi9ob21lL2tva2kvYmxvZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY2xhc3NDYWxsQ2hlY2siOwppbXBvcnQgX2NyZWF0ZUNsYXNzIGZyb20gIi9ob21lL2tva2kvYmxvZy9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9lc20vY3JlYXRlQ2xhc3MiOwovLyBmb3JrIGFuZCBtb2RpZnkgZnJvbSBAdnVlcHJlc3MvcGx1Z2luLWJsb2cKaW1wb3J0IHsgZmluZFBhZ2VCeUtleSB9IGZyb20gJ0BhcHAvdXRpbCc7CmltcG9ydCB0YWdNZXRhIGZyb20gJ0BkeW5hbWljL3RhZyc7CmltcG9ydCBjYXRlZ29yeU1ldGEgZnJvbSAnQGR5bmFtaWMvY2F0ZWdvcnknOwoKdmFyIENsYXNzaWZpYWJsZSA9IC8qI19fUFVSRV9fKi9mdW5jdGlvbiAoKSB7CiAgZnVuY3Rpb24gQ2xhc3NpZmlhYmxlKG1ldGFNYXAsIHBhZ2VzKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwoKICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBDbGFzc2lmaWFibGUpOwoKICAgIHRoaXMuX21ldGFNYXAgPSBPYmplY3QuYXNzaWduKHt9LCBtZXRhTWFwKTsKICAgIE9iamVjdC5rZXlzKHRoaXMuX21ldGFNYXApLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgdmFyIHBhZ2VLZXlzID0gX3RoaXMuX21ldGFNYXBbbmFtZV0ucGFnZUtleXM7CiAgICAgIF90aGlzLl9tZXRhTWFwW25hbWVdLnBvc3RzID0gcGFnZUtleXMubWFwKGZ1bmN0aW9uIChrZXkpIHsKICAgICAgICByZXR1cm4gZmluZFBhZ2VCeUtleShwYWdlcywga2V5KTsKICAgICAgfSk7CiAgICB9KTsKICB9CgogIF9jcmVhdGVDbGFzcyhDbGFzc2lmaWFibGUsIFt7CiAgICBrZXk6ICJ0b0FycmF5IiwKICAgIHZhbHVlOiBmdW5jdGlvbiB0b0FycmF5KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKCiAgICAgIHZhciB0YWdzID0gW107CiAgICAgIE9iamVjdC5rZXlzKHRoaXMuX21ldGFNYXApLmZvckVhY2goZnVuY3Rpb24gKG5hbWUpIHsKICAgICAgICB2YXIgX3RoaXMyJF9tZXRhTWFwJG5hbWUgPSBfdGhpczIuX21ldGFNYXBbbmFtZV0sCiAgICAgICAgICAgIHBvc3RzID0gX3RoaXMyJF9tZXRhTWFwJG5hbWUucG9zdHMsCiAgICAgICAgICAgIHBhdGggPSBfdGhpczIkX21ldGFNYXAkbmFtZS5wYXRoOwogICAgICAgIHRhZ3MucHVzaCh7CiAgICAgICAgICBuYW1lOiBuYW1lLAogICAgICAgICAgcG9zdHM6IHBvc3RzLAogICAgICAgICAgcGF0aDogcGF0aAogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgcmV0dXJuIHRhZ3M7CiAgICB9CiAgfSwgewogICAga2V5OiAiZ2V0SXRlbUJ5TmFtZSIsCiAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0SXRlbUJ5TmFtZShuYW1lKSB7CiAgICAgIHJldHVybiB0aGlzLl9tZXRhTWFwW25hbWVdOwogICAgfQogIH0sIHsKICAgIGtleTogImxlbmd0aCIsCiAgICBnZXQ6IGZ1bmN0aW9uIGdldCgpIHsKICAgICAgcmV0dXJuIE9iamVjdC5rZXlzKHRoaXMuX21ldGFNYXApLmxlbmd0aDsKICAgIH0KICB9LCB7CiAgICBrZXk6ICJtYXAiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLl9tZXRhTWFwOwogICAgfQogIH0sIHsKICAgIGtleTogImxpc3QiLAogICAgZ2V0OiBmdW5jdGlvbiBnZXQoKSB7CiAgICAgIHJldHVybiB0aGlzLnRvQXJyYXkoKTsKICAgIH0KICB9XSk7CgogIHJldHVybiBDbGFzc2lmaWFibGU7Cn0oKTsKCmV4cG9ydCBkZWZhdWx0IChmdW5jdGlvbiAoX3JlZikgewogIHZhciBWdWUgPSBfcmVmLlZ1ZTsKICBWdWUubWl4aW4oewogICAgY29tcHV0ZWQ6IHsKICAgICAgJHRhZ3M6IGZ1bmN0aW9uICR0YWdzKCkgewogICAgICAgIHZhciBwYWdlcyA9IHRoaXMuJHNpdGUucGFnZXM7CiAgICAgICAgdmFyIHRhZ3MgPSBuZXcgQ2xhc3NpZmlhYmxlKHRhZ01ldGEsIHBhZ2VzKTsKICAgICAgICByZXR1cm4gdGFnczsKICAgICAgfSwKICAgICAgJHRhZzogZnVuY3Rpb24gJHRhZygpIHsKICAgICAgICB2YXIgdGFnTmFtZSA9IHRoaXMuJHJvdXRlLm1ldGEudGFnTmFtZTsKICAgICAgICByZXR1cm4gdGhpcy4kdGFncy5nZXRJdGVtQnlOYW1lKHRhZ05hbWUpOwogICAgICB9LAogICAgICAkY2F0ZWdvcmllczogZnVuY3Rpb24gJGNhdGVnb3JpZXMoKSB7CiAgICAgICAgdmFyIHBhZ2VzID0gdGhpcy4kc2l0ZS5wYWdlczsKICAgICAgICB2YXIgY2F0ZWdvcmllcyA9IG5ldyBDbGFzc2lmaWFibGUoY2F0ZWdvcnlNZXRhLCBwYWdlcyk7CiAgICAgICAgcmV0dXJuIGNhdGVnb3JpZXM7CiAgICAgIH0sCiAgICAgICRjYXRlZ29yeTogZnVuY3Rpb24gJGNhdGVnb3J5KCkgewogICAgICAgIHZhciBjYXRlZ29yeU5hbWUgPSB0aGlzLiRyb3V0ZS5tZXRhLmNhdGVnb3J5TmFtZTsKICAgICAgICByZXR1cm4gdGhpcy4kY2F0ZWdvcmllcy5nZXRJdGVtQnlOYW1lKGNhdGVnb3J5TmFtZSk7CiAgICAgIH0KICAgIH0KICB9KTsKfSk7"},{"version":3,"sources":["/home/koki/blog/node_modules/vuepress-theme-meteorlxy/lib/plugins/blog-vuepress/enhanceAppFile.js"],"names":["findPageByKey","tagMeta","categoryMeta","Classifiable","metaMap","pages","_metaMap","Object","assign","keys","forEach","name","pageKeys","posts","map","key","tags","path","push","length","toArray","Vue","mixin","computed","$tags","$site","$tag","tagName","$route","meta","getItemByName","$categories","categories","$category","categoryName"],"mappings":";;;;;;AAAA;AAEA,SAASA,aAAT,QAA8B,WAA9B;AACA,OAAOC,OAAP,MAAoB,cAApB;AACA,OAAOC,YAAP,MAAyB,mBAAzB;;IAEMC,Y;AACJ,wBAAaC,OAAb,EAAsBC,KAAtB,EAA6B;AAAA;;AAAA;;AAC3B,SAAKC,QAAL,GAAgBC,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBJ,OAAlB,CAAhB;AACAG,IAAAA,MAAM,CAACE,IAAP,CAAY,KAAKH,QAAjB,EAA2BI,OAA3B,CAAmC,UAAAC,IAAI,EAAI;AAAA,UACjCC,QADiC,GACpB,KAAI,CAACN,QAAL,CAAcK,IAAd,CADoB,CACjCC,QADiC;AAEzC,MAAA,KAAI,CAACN,QAAL,CAAcK,IAAd,EAAoBE,KAApB,GAA4BD,QAAQ,CAACE,GAAT,CAAa,UAAAC,GAAG;AAAA,eAAIf,aAAa,CAACK,KAAD,EAAQU,GAAR,CAAjB;AAAA,OAAhB,CAA5B;AACD,KAHD;AAID;;;;8BAcU;AAAA;;AACT,UAAMC,IAAI,GAAG,EAAb;AACAT,MAAAA,MAAM,CAACE,IAAP,CAAY,KAAKH,QAAjB,EAA2BI,OAA3B,CAAmC,UAAAC,IAAI,EAAI;AAAA,mCACjB,MAAI,CAACL,QAAL,CAAcK,IAAd,CADiB;AAAA,YACjCE,KADiC,wBACjCA,KADiC;AAAA,YAC1BI,IAD0B,wBAC1BA,IAD0B;AAEzCD,QAAAA,IAAI,CAACE,IAAL,CAAU;AAAEP,UAAAA,IAAI,EAAJA,IAAF;AAAQE,UAAAA,KAAK,EAALA,KAAR;AAAeI,UAAAA,IAAI,EAAJA;AAAf,SAAV;AACD,OAHD;AAIA,aAAOD,IAAP;AACD;;;kCAEcL,I,EAAM;AACnB,aAAO,KAAKL,QAAL,CAAcK,IAAd,CAAP;AACD;;;wBAvBa;AACZ,aAAOJ,MAAM,CAACE,IAAP,CAAY,KAAKH,QAAjB,EAA2Ba,MAAlC;AACD;;;wBAEU;AACT,aAAO,KAAKb,QAAZ;AACD;;;wBAEW;AACV,aAAO,KAAKc,OAAL,EAAP;AACD;;;;;;AAgBH,gBAAe,gBAAa;AAAA,MAAVC,GAAU,QAAVA,GAAU;AAC1BA,EAAAA,GAAG,CAACC,KAAJ,CAAU;AACRC,IAAAA,QAAQ,EAAE;AACRC,MAAAA,KADQ,mBACC;AAAA,YACCnB,KADD,GACW,KAAKoB,KADhB,CACCpB,KADD;AAEP,YAAMW,IAAI,GAAG,IAAIb,YAAJ,CAAiBF,OAAjB,EAA0BI,KAA1B,CAAb;AACA,eAAOW,IAAP;AACD,OALO;AAMRU,MAAAA,IANQ,kBAMA;AACN,YAAMC,OAAO,GAAG,KAAKC,MAAL,CAAYC,IAAZ,CAAiBF,OAAjC;AACA,eAAO,KAAKH,KAAL,CAAWM,aAAX,CAAyBH,OAAzB,CAAP;AACD,OATO;AAURI,MAAAA,WAVQ,yBAUO;AAAA,YACL1B,KADK,GACK,KAAKoB,KADV,CACLpB,KADK;AAEb,YAAM2B,UAAU,GAAG,IAAI7B,YAAJ,CAAiBD,YAAjB,EAA+BG,KAA/B,CAAnB;AACA,eAAO2B,UAAP;AACD,OAdO;AAeRC,MAAAA,SAfQ,uBAeK;AACX,YAAMC,YAAY,GAAG,KAAKN,MAAL,CAAYC,IAAZ,CAAiBK,YAAtC;AACA,eAAO,KAAKH,WAAL,CAAiBD,aAAjB,CAA+BI,YAA/B,CAAP;AACD;AAlBO;AADF,GAAV;AAsBD,CAvBD","sourcesContent":["// fork and modify from @vuepress/plugin-blog\n\nimport { findPageByKey } from '@app/util'\nimport tagMeta from '@dynamic/tag'\nimport categoryMeta from '@dynamic/category'\n\nclass Classifiable {\n  constructor (metaMap, pages) {\n    this._metaMap = Object.assign({}, metaMap)\n    Object.keys(this._metaMap).forEach(name => {\n      const { pageKeys } = this._metaMap[name]\n      this._metaMap[name].posts = pageKeys.map(key => findPageByKey(pages, key))\n    })\n  }\n\n  get length () {\n    return Object.keys(this._metaMap).length\n  }\n\n  get map () {\n    return this._metaMap\n  }\n\n  get list () {\n    return this.toArray()\n  }\n\n  toArray () {\n    const tags = []\n    Object.keys(this._metaMap).forEach(name => {\n      const { posts, path } = this._metaMap[name]\n      tags.push({ name, posts, path })\n    })\n    return tags\n  }\n\n  getItemByName (name) {\n    return this._metaMap[name]\n  }\n}\n\nexport default ({ Vue }) => {\n  Vue.mixin({\n    computed: {\n      $tags () {\n        const { pages } = this.$site\n        const tags = new Classifiable(tagMeta, pages)\n        return tags\n      },\n      $tag () {\n        const tagName = this.$route.meta.tagName\n        return this.$tags.getItemByName(tagName)\n      },\n      $categories () {\n        const { pages } = this.$site\n        const categories = new Classifiable(categoryMeta, pages)\n        return categories\n      },\n      $category () {\n        const categoryName = this.$route.meta.categoryName\n        return this.$categories.getItemByName(categoryName)\n      },\n    },\n  })\n}\n"]}]}